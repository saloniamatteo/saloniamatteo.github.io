<!DOCTYPE html>
<html lang="it">
<head>
	<title>Kernel - Salonia Matteo</title>

	<!-- Optimize page loading on some devices -->
	<meta charset="utf-8">
	<meta content='width=device-width, initial-scale=1' name='viewport'>
	<meta name="description" content="Il Kernel personalizzato di Salonia Matteo.">

	<!-- Social media preview -->
	<meta property="og:title"	content="Salonia Matteo">
	<meta property="og:url"		content="https://saloniamatteo.top/it/kernel.html">
	<meta property="og:description"	content="Il Kernel personalizzato di Salonia Matteo.">
	<meta property="og:image"	content="https://saloniamatteo.top/favicon.png">

	<!-- Twitter-specific -->
	<meta property="twitter:title"		content="Salonia Matteo">
	<meta property="twitter:card"		content="summary_large_image">
	<meta property="twitter:description"	content="Il Kernel personalizzato di Salonia Matteo.">
	<meta property="twitter:image"		content="https://saloniamatteo.top/favicon.png">

	<!--Favicon-->
	<link rel="shortcut icon" href="../favicon.png">

	<!-- Beer CSS -->
	<link rel="stylesheet" href="../css/beer.min.css">
	<script src="../js/beer.min.js" type="text/javascript"></script>
	<script src="../js/light.js" type="text/javascript"></script>

	<!-- Montserrat font -->
	<link rel="stylesheet" href="../css/montserrat.css">

	<!-- CSS overrides -->
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../css/kernel.style.css">
</head>

<script>
ui();

document.onreadystatechange = function() { load(); document.body.onresize = function() { load() }}

function load() { adjlen(); remember_prefs() }

function adjlen() {
	/* Fix length */
	var w = document.body.clientWidth;
	var comp = document.getElementById("comp");

	if (w >= 850)
		comp.innerHTML = "Tempo compilazione"
	else
		comp.innerHTML = "Tempo compil."
}
</script>

<body class="is-light">
	<!-- Header -->
	<header class="fixed padding indigo white-text">
	<div class="row no-wrap middle-align">
		<div class="col min no-margin no-padding">
			<a href="index.html" class="chip circle indigo-text white"><i>arrow_backward</i></a>
		</div>
		<div class="col center-align">
			<a class="button center-align large-text no-margin indigo-text white"
			   href="https://saloniamatteo.top">Salonia Matteo</a>
		</div>
		<div class="col min no-margin no-padding right-align"
		     style="margin-right: 0.5em !important">
			<img class="responsive" src="../pics/logo_rec.png"
			     style="min-width: 100rem !important">
		</div>
	</div>
	</header>

	<!-- FAB -->
	<button class="fixed bottom right square round extra large-margin" style="z-index: 10" onclick="toggle_light()">
		<i>light_mode</i>
	</button>
	
	<div class="margin">
	<div>
		<h5>Kernel Personalizzato</h5>

		<p class="large-text">
		Se usate una distribuzione di GNU/Linux, e se siete in grado di compilare il vostro Kernel, in questa pagina troverete alcune
		modifiche che ho apportato al mio Kernel, e uno script per facilitare le modifiche alla
		configurazione del Kernel, e la compilazione.
		</p>

		<p class="large-text">
		Vai a:<br>

		<a class="button border small-margin indigo white-text" href="#intro">Introduzione</a>
		<a class="button border small-margin indigo white-text" href="#support">Supporto configurazione default</a>
		<a class="button border small-margin indigo white-text" href="#script">Uso script</a>
		<a class="button border small-margin indigo white-text" href="#perf">Performance</a>
		<a class="button border small-margin indigo white-text" href="#source">Codice sorgente</a>
		</p>
	</div>

	<div class="small-space"></div>

	<!-- Introduzione -->
	<div>
	<article class="border no-padding">
		<h5 id="intro" class="left-align medium-padding indigo white-text">
		<a href="#intro">Introduzione</a>
		</h5>

		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<p class="small-space">
			Premetto col dire che io uso la distribuzione <a href="https://gentoo.org"
			class="button border tiny indigo white-text">Gentoo Linux&nbsp;<i>arrow_forward</i></a>: &egrave; una
			distribuzione di GNU/Linux in cui tutti i pacchetti <em>(programmi)</em> vanno compilati dal codice sorgente,
			piuttosto che usare pacchetti binari pre-compilati da terzi, che non possono essere configurati.
			Questo approccio permette all'utente di scegliere quali parti del proprio sistema compilare,
			e quali pacchetti specifici installare, in modo tale da rendere possibili configurazioni che
			usano pochissime risorse (anche <b>meno di 100MB di RAM</b>!), totalmente funzionanti e molto efficienti.
			</p>

			<p class="small-space">
			Infatti, come avrete ben capito, &egrave; anche possibile configurare il proprio Kernel per poi compilarlo in un secondo momento.
			Sul mio laptop <b>ThinkPad T440p</b>, uso il Kernel <a href="https://packages.gentoo.org/packages/sys-kernel/pf-sources"
			class="button border tiny indigo white-text">sys-kernel/pf-sources&nbsp;<i>arrow_forward</i></a>,
			che include le patch del kernel Gentoo (genpatches), e molte altre patch che permettono al kernel
			di operare in maniera pi&ugrave; rapida.
			</p>

			<div class="right-align">
			<a href="https://gitlab.com/post-factum/pf-kernel/-/wikis/README#ok-whats-there-in-your-patchset"
			class="button border indigo white-text small-margin">Lista completa patch&nbsp;<i>arrow_forward</i></a>

			<a href="https://gitlab.com/post-factum/pf-kernel/-/tags"
			class="button border indigo white-text small-margin">Versioni Kernel&nbsp;<i>arrow_forward</i></a>
			</div>
			</div>
		</div>
	</article>
	</div>

	<div class="medium-space"></div>

	<!-- Supporto config. di default -->
	<div>
	<article class="border no-padding">
		<h5 id="support" class="left-align medium-padding indigo white-text">
		<a href="#support">Supporto configurazione di default</a>
		</h5>

		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<p class="small-space">
			Questo Kernel viene aggiornato costantemente, con supporto continuo per il mio laptop, <b>ThinkPad T440p</b>,
			rimuovendo quindi funzionalit&agrave; non necessarie, come <b>NUMA</b>, <b>NVIDIA</b>, <b>AMD</b>, e cos&igrave; via.
			In questa guida vedrete che <u>bisogna modificare alcune impostazioni</u>, come la cartella
			che contiene gli script e le patch utilizzati, e cos&igrave; via. In pi&ugrave;, se usate configurazioni diverse
			dalla mia (esempio: usate un computer diverso dal mio ThinkPad), <u>bisogner&agrave; rivedere la configurazione
			del Kernel</u>, specialmente il numero massimo di CPU (impostato a 8), le GPU massime (impostato a 2), ecc.
			</p>
			</div>
		</div>
	</article>
	</div>

	<div class="medium-space"></div>

	<!-- Uso script -->
	<div>
	<article class="border no-padding">
		<h5 id="script" class="left-align medium-padding indigo white-text">
			<a href="#script">Uso script</a>
		</h5>

		<!-- Ottenimento repository -->
		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<div class="row min">
				<h6 id="script-1" class="card border center-align bold indigo white-text small-padding small-margin">
				<a href="#script-1">1. Ottenimento repository</a></h6>
			</div>

			<p class="small-space">
			Assicuratevi di aver clonato la repository:
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="orange-text">git</span>
				<span class="yellow-text">clone</span>
				<span class="cyan-text">"https://github.com/saloniamatteo/kernel"</span>
				<span class="red-text">usr-kernel</span><br>

				<span class="orange-text">cd</span> <span class="red-text">usr-kernel</span>
			</div></div>
			</div>
		</div>

		<!-- Selezione versione -->
		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<div class="row min">
				<h6 id="script-2" class="card border center-align bold indigo white-text small-padding small-margin">
				<a href="#script-2">2. Selezione Versione</a></h6>
			</div>

			<p class="small-space">
			Scegliete una versione del Kernel da compilare, secondo le versioni disponibili.
			In questo esempio, andr&ograve; a compilare la versione del Kernel <b>5.17_p2-pf</b>:
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="orange-text">cd</span> <span class="red-text">5.17_p2-pf</span>
			</div></div>
			</div>
		</div>

		<!-- Versione personalizzata -->
		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<div class="row min">
				<h6 id="script-2.1" class="card border center-align bold indigo white-text small-padding small-margin">
				<a href="#script-2.1">2.1. Versione Personalizzata</a></h6>
			</div>

			<p class="small-space">
			Anche se non avete questa versione precisa, &egrave; possibile modificare lo script per includere
			la versione precisa; in questo caso uso l'editor di testo vim, ma potete usarne uno qualsiasi:
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="orange-text">vim</span> <span class="blue-text">build.sh</span>
			</div></div>

			<p class="small-space">
			Per modificare la versione, osservate le seguenti variabili:
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="white-text">KVER=</span><span class="cyan-text">"5.17"</span>
				<br>

				<span class="white-text">PVER=</span><span class="cyan-text">"_p2-pf"</span>
			</div></div>

			<p class="small-space">
			<b>KVER</b> contiene la versione primaria del Kernel (5.17), mentre <b>PVER</b> contiene la
			versione delle patch (_p2-pf). Insieme vanno a formare <b>KERNVER</b>, la versione completa
			del Kernel (quindi 5.17_p2-pf).
			</p>

			<p class="small-space">
			Ad esempio, se la vostra versione personalizzata avesse la stessa versione primaria del Kernel (5.17),
			ma una versione di patch diversa, ad esempio "<em>_mykernel </em>", allora dovrete impostare le variabili 
			nel seguente modo:
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="white-text">KVER=</span><span class="cyan-text">"5.17"</span>
				<br>

				<span class="white-text">PVER=</span><span class="cyan-text">"_mykernel"</span>
			</div></div>
			</div>
		</div>

		<!-- Ottimizzazioni CPU -->
		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<div class="row min">
				<h6 id="script-2.2" class="card border center-align bold indigo white-text small-padding small-margin">
				<a href="#script-2.2">2.2. Ottimizzazioni CPU</a></h6>
			</div>

			<p class="small-space">
			Nello script, <u>build.sh</u>, &egrave; presente una variabile, <b>ARCHVER</b>.
			Questa variabile contiene un numero da <b>1</b> a <b>41</b>; ogni numero rappresenta
			un processore diverso. Sempre nello stesso file, &egrave; presente una lista che spiega
			quale numero utilizzare, in base al processore che poi user&agrave; il Kernel.
			</p>

			<p class="small-space">
			Nella mia configurazione, questa variabile &egrave; impostata nel seguente modo:
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="white-text">ARCHVER=</span><span class="cyan-text">24</span>
			</div></div>

			<p class="small-space">
			<b>ARCHVER</b> &egrave; impostato a <b>24</b> per il fatto che 24 rappresenta la famiglia di
			processori Intel Haswell:
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="grey-text"># Note: ARCHVER is the sub-architecture number,</span><br>
				<span class="grey-text"># which will be used to apply optimizations for your specific CPU.</span><br>
				<span class="grey-text"># Down below is a list of numbers and their corresponding CPU.</span><br>
				<span class="grey-text">[ ... ]</span><br>
				<span class="indigo white-text">#  24. Intel Haswell (MHASWELL)</span>
			</div></div>

			<p class="small-space">
			Vi consiglio di cambiare questo numero, perch&egrave; l'impatto sulla performance &egrave; notevole.
			Ecco la lista completa:
			</p>

			<div class="card small-padding small-text" style="background-color: #313033"><div class="margin">
				<span class="grey-text">#   1. AMD Opteron/Athlon64/Hammer/K8 (MK8)</span><br>
				<span class="grey-text">#   2. AMD Opteron/Athlon64/Hammer/K8 with SSE3 (MK8SSE3)</span><br>
				<span class="grey-text">#   3. AMD 61xx/7x50/PhenomX3/X4/II/K10 (MK10)</span><br>
				<span class="grey-text">#   4. AMD Barcelona (MBARCELONA)</span><br>
				<span class="grey-text">#   5. AMD Bobcat (MBOBCAT)</span><br>
				<span class="grey-text">#   6. AMD Jaguar (MJAGUAR)</span><br>
				<span class="grey-text">#   7. AMD Bulldozer (MBULLDOZER)</span><br>
				<span class="grey-text">#   8. AMD Piledriver (MPILEDRIVER)</span><br>
				<span class="grey-text">#   9. AMD Steamroller (MSTEAMROLLER)</span><br>
				<span class="grey-text">#  10. AMD Excavator (MEXCAVATOR)</span><br>
				<span class="grey-text">#  11. AMD Zen (MZEN)</span><br>
				<span class="grey-text">#  12. AMD Zen 2 (MZEN2)</span><br>
				<span class="grey-text">#  13. AMD Zen 3 (MZEN3)</span><br>
				<span class="grey-text">#  14. Intel P4 / older Netburst based Xeon (MPSC)</span><br>
				<span class="grey-text">#  15. Intel Core 2 (MCORE2)</span><br>
				<span class="grey-text">#  16. Intel Atom (MATOM)</span><br>
				<span class="grey-text">#  17. Intel Nehalem (MNEHALEM)</span><br>
				<span class="grey-text">#  18. Intel Westmere (MWESTMERE)</span><br>
				<span class="grey-text">#  19. Intel Silvermont (MSILVERMONT)</span><br>
				<span class="grey-text">#  20. Intel Goldmont (MGOLDMONT)</span><br>
				<span class="grey-text">#  21. Intel Goldmont Plus (MGOLDMONTPLUS)</span><br>
				<span class="grey-text">#  22. Intel Sandy Bridge (MSANDYBRIDGE)</span><br>
				<span class="grey-text">#  23. Intel Ivy Bridge (MIVYBRIDGE)</span><br>
				<span class="grey-text">#  24. Intel Haswell (MHASWELL)</span><br>
				<span class="grey-text">#  25. Intel Broadwell (MBROADWELL)</span><br>
				<span class="grey-text">#  26. Intel Skylake (MSKYLAKE)</span><br>
				<span class="grey-text">#  27. Intel Skylake X (MSKYLAKEX)</span><br>
				<span class="grey-text">#  28. Intel Cannon Lake (MCANNONLAKE)</span><br>
				<span class="grey-text">#  29. Intel Ice Lake (MICELAKE)</span><br>
				<span class="grey-text">#  30. Intel Cascade Lake (MCASCADELAKE)</span><br>
				<span class="grey-text">#  31. Intel Cooper Lake (MCOOPERLAKE)</span><br>
				<span class="grey-text">#  32. Intel Tiger Lake (MTIGERLAKE)</span><br>
				<span class="grey-text">#  33. Intel Sapphire Rapids (MSAPPHIRERAPIDS)</span><br>
				<span class="grey-text">#  34. Intel Rocket Lake (MROCKETLAKE)</span><br>
				<span class="grey-text">#  35. Intel Alder Lake (MALDERLAKE)</span><br>
				<span class="grey-text">#  36. Generic-x86-64 (GENERIC_CPU)</span><br>
				<span class="grey-text">#  37. Generic-x86-64-v2 (GENERIC_CPU2)</span><br>
				<span class="grey-text">#  38. Generic-x86-64-v3 (GENERIC_CPU3)</span><br>
				<span class="grey-text">#  39. Generic-x86-64-v4 (GENERIC_CPU4)</span><br>
				<span class="grey-text">#  40. Intel-Native optimizations autodetected by GCC (MNATIVE_INTEL)</span><br>
				<span class="grey-text">#  41. AMD-Native optimizations autodetected by GCC (MNATIVE_AMD)</span>
			</div></div>
			</div>
		</div>

		<!-- Configurazione Kernel -->
		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<div class="row min">
				<h6 id="script-3" class="card border center-align bold indigo white-text small-padding small-margin">
				<a href="#script-3">3. Configurazione Kernel</a></h6>
			</div>

			<p class="small-space">
			&Egrave; una buona pratica controllare la configurazione del Kernel prima di compilarlo.
			Per fare ci&ograve;, lo script <u>build.sh</u> rende possibile la modifica della configurazione,
			eseguendo <u>make menuconfig</u> nella directory in cui &egrave; presente il Kernel,
			con l'opzione di copiare quella di default, o senza copiarla, per usare il proprio file di configurazione.
			</p>

			<p class="small-space">
			Assicuratevi di avere i permessi di amministratore prima di eseguire questo comando;
			se non siete amministratori, ponete all'inizio del comando <b>sudo</b> oppure <b>doas</b>,
			in base a quale usate.
			</p>

			<p class="card small-space red white-text">
			Se non avete capito il testo qui sopra, <b><u>interrompete immediatamente la configurazione del Kernel
			e la lettura di questa pagina</u></b>, per non rischiare di rendere il vostro sistema inutilizzabile.
			Anche se il rischio non &egrave; elevato, &egrave; meglio prevenire ulteriori problemi.
			<b><u>Continuate a vostro rischio e pericolo.</u></b>
			</p>

			<p class="card small-space yellow black-text">
			Ricordatevi di salvare/copiare il file <b>.config</b> al termine della configurazione!
			</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="grey-text"># Apri il menu di configurazione, copiando la configurazione di default</span><br>
				<span class="orange-text">./build.sh</span> <span class="yellow-text">-m</span><br><br>

				<span class="grey-text"># Apri il menu di configurazione, senza copiare la configurazione di default</span><br>
				<span class="orange-text">./build.sh</span> <span class="yellow-text">-c -m</span><br>
			</div></div>
			</div>
		</div>

		<!-- Compilazione Kernel -->
		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<div class="row min">
				<h6 id="script-4" class="card border center-align bold indigo white-text small-padding small-margin">
				<a href="#script-4">4. Compilazione Kernel</a></h6>
			</div>

			<p class="small-space">
			Dopo aver <a href="#script-2.2" class="indigo-text underline">applicato le ottimizzazioni CPU</a>
			e aver rincontrollato la <a href="#script-3" class="indigo-text underline">configurazione del Kernel</a>,
			&Egrave; tempo di scegliere le impostazioni per migliorare notevolmente la performance. Ecco la lista delle opzioni:
			</p>
			</div>
		</div>

		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin scroll" style="margin-right: 1.5em !important">
			<table class="small-margin">
			<thead>
			<tr class="row medium-width no-wrap">
				<th class="card indigo white-text bold small-margin medium-space small-padding middle-align col min-w-90 max-w-170">Flag corta</th>
				<th class="card indigo white-text bold small-margin medium-space small-padding middle-align col min-w-110 max-w-300">Flag lunga</th>
				<th class="card indigo white-text bold small-margin medium-space small-padding middle-align col min-w-250">Descrizione</th>
			</tr>
			</thead>

			<tbody class="small-margin">
			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-90 max-w-170"><b>-e</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-110 max-w-300"><b>--ccache</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-250">
				<p>
				Usa&nbsp;<b>ccache</b>&nbsp;per velocizzare la compilazione. &Egrave; consigliato usare quest'opzione
				se si compila il Kernel almeno due volte, per velocizzare le compilazioni successive.
				(<a href="https://ccache.dev/performance.html" class="indigo-text underline">Vedi articolo</a>)
				</p></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-90 max-w-170"><b>-f</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-110 max-w-300"><b>--fastmath</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-250">
				<p>
				Compila il Kernel usando <b>Matematica Veloce non sicura</b>.
				Tipicamente non ha nessun effetto collaterale e
				la performance &egrave; migliore rispetto a Matematica Veloce sicura.
				</p></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-90 max-w-170"><b>-F</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-110 max-w-300"><b>--fastmath-s</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-250">
				<p>
				Compila il Kernel usando <b>Matematica Veloce sicura</b>.
				Da usare se Matematica Veloce non sicura non sicura riporta problemi, in casi rari.
				</p></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-90 max-w-170"><b>-g</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-110 max-w-300"><b>--graphite</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-250">
				<p>
				Compila il Kernel usando <b>Graphite</b>. Tipicamente quest'opzione riduce leggermente la performance.
				</p></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-90 max-w-170"><b>-l</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-110 max-w-300"><b>--clearl-ps</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-250">
				<p>
				Compila il Kernel applicando le <b>patch di Clear Linux</b>.
				Queste patch sono volte all'incremento ulteriore della performance, e vengono
				applicate direttamente dalla repository di Clear Linux.
				Molto consigliato per CPU Intel.
				</p></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-90 max-w-170"><b>-p</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-110 max-w-300"><b>--patches</b></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-250">
				<p>
				Compila il Kernel applicando le <b>patch incluse</b>.
				Anche queste patch sono volte all'incremento ulteriore della performance,
				e sono un misto di patch raccolte da internet.
				</p></td>
			</tr>
			</tbody>
			</table>
			</div>
		</div>

		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin scroll" style="margin-right: 1.5em !important">
				<p class="card yellow black-text">
				State attenti ad applicare <u>solo una flag</u> per <b>Matematica Veloce</b>:
				se ve ne sono due o pi&ugrave;, l'ultima sar&agrave; scelta.<br><br>

				Esempio:<br>
				<em>-f -F </em>    -> <b>Matematica Veloce sicura</b><br>
				<em>-f -F -f </em> -> <b>Matematica Veloce non sicura</b>
				</p>

				<div class="small-space"></div>

				<p class="small-margin">
				Dopo aver scelto le flag da applicare, e dopo aver scelto se copiare il file <b>.config</b>
				con la flag "-c", siete pronti per compilare il Kernel.
				</p>

			<div class="card small-padding" style="background-color: #313033"><div class="margin">
				<span class="grey-text"># Esempio 1: compila il Kernel, copiando il file di configurazione di default,</span><br>
				<span class="grey-text"># applicando le patch di Clear Linux e quelle incluse,</span><br>
				<span class="grey-text"># migliorando la performance con le flag sopra indicate</span><br>

				<span class="orange-text">./build.sh</span> <span class="yellow-text">-f -l -p</span><br><br>

				<span class="grey-text"># Esempio 2: compila il Kernel, copiando il file di configurazione di default,</span><br>
				<span class="grey-text"># usando ccache per velocizzare la compilazione,</span><br>
				<span class="grey-text"># applicando le patch di Clear Linux e quelle incluse,</span><br>
				<span class="grey-text"># migliorando la performance con le flag sopra indicate</span><br>

				<span class="orange-text">./build.sh</span> <span class="yellow-text">-e -f -l -p</span><br><br>

				<span class="grey-text"># Esempio 3: compila il Kernel, senza copiare il file di configurazione</span><br>
				<span class="grey-text"># dato che il file personalizzato &egrave; gi&agrave; presente in /usr/src/linux/.config,</span><br>
				<span class="grey-text"># applicando le patch di Clear Linux e quelle incluse,</span><br>
				<span class="grey-text"># migliorando la performance con le flag sopra indicate</span><br>

				<span class="orange-text">./build.sh</span> <span class="yellow-text">-c -f -l -p</span>
			</div>
			</div>
		</div>
	</article>
	</div>

	<div class="medium-space"></div>

	<!-- Performance -->
	<div>
	<article class="border no-padding">
		<h5 id="perf" class="left-align medium-padding indigo white-text">
		<a href="#perf">Performance</a>
		</h5>

		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<p class="small-space">
			Per stabilire quale fosse il kernel pi&ugrave; performante, ho eseguito <b>4 compilazioni</b> con
			<u>flag diverse</u>, usando la <u>stessa configurazione</u> del Kernel.
			</p>

			<p class="small-space">
			Questi test sono stati eseguiti sul mio laptop, <b>ThinkPad T440p</b>, con CPU
			<b>Intel Core i7-4700MQ</b>, 8GB RAM, Kernel Gentoo Linux <b>5.16.0-pf2</b>.
			</p>

			<p class="small-space">
			Per ottenere il Kernel pi&ugrave; performante, ho usato ogni singolo Kernel con il programma <b>XMRig</b>,
			eseguendolo per 5 minuti, e vedendo l'hashrate massimo.
			</p>

			<p class="small-space">
			Lista compilazioni, dalla pi&ugrave; performante alla meno performante:
			</p>
			</div>
		</div>

		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin scroll" style="margin-right: 1.5em !important">
			<table class="small-margin">
			<thead>
			<tr class="row medium-width no-wrap">
				<th class="card indigo white-text bold small-margin medium-space small-padding middle-align col min-w-200 max-w-700">Impostazioni</th>
				<th id="comp" class="card indigo white-text bold small-margin medium-space small-padding middle-align col min-w-130 max-w-300">Tempo compil.</th>
				<th class="card indigo white-text bold small-margin medium-space small-padding middle-align col min-w-100 max-w-300">Max H/s</th>
				<th class="card indigo white-text bold small-margin medium-space small-padding middle-align col min-w-170 max-w-300">Riga di comando</th>
			</tr>
			</thead>

			<tbody class="small-margin">
			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-200 max-w-700">
				<p>
				<b>Matematica Veloce non sicura</b> + <b>Patch Clear Linux</b> + <b>Patch incluse</b>
				</p></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-130 max-w-300">7m 7s</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-100 max-w-300">1570</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-170 max-w-300"><b>./build.sh -f -l -p</b></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-200 max-w-700">
				<p>
				<b>Matematica Veloce non sicura</b> + <b>Graphite</b> +
				<b>Patch Clear Linux</b> + <b>Patch incluse</b>
				</p></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-130 max-w-300">7m 3s</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-100 max-w-300">1500</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-170 max-w-300"><b>./build.sh -f -g -l -p</b></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-200 max-w-700">
				<p>
				<b>Patch Clear Linux</b> + <b>Patch incluse</b>
				</p></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-130 max-w-300">7m</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-100 max-w-300">1463</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-170 max-w-300"><b>./build.sh -l -p</b></td>
			</tr>

			<tr class="row medium-width no-wrap small-mbot no-mtop">
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-200 max-w-700">
				<p>
				<b>Patch incluse</b>
				</p></td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-130 max-w-300">7m</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-100 max-w-300">1460</td>
				<td class="card small-margin middle-align col no-mtop small-mbot min-w-170 max-w-300"><b>./build.sh -l -p</b></td>
			</tr>
			</tbody>
			</table>
			</div>
		</div>
	</article>
	</div>

	<div class="medium-space"></div>

	<!-- Codice sorgente -->
	<div>
	<article class="border no-padding">
		<h5 id="source" class="left-align medium-padding indigo white-text">
		<a href="#source">Codice sorgente</a>
		</h5>

		<div class="small-margin row no-wrap middle-align">
			<div class="col small-margin">
			<p class="small-space">
			Il codice sorgente di questo Kernel &egrave; disponibile sulla repository
			<a href="https://github.com/saloniamatteo/kernel" class="button small indigo white-text">
			GitHub&nbsp;<i>arrow_forward</i></a>
			</p>
			</div>
		</div>
	</article>
	</div>
	</div>

	<div class="medium-space"></div>
</body>
</html>
